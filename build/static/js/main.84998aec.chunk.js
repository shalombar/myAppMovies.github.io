(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},29:function(e,t,a){e.exports=a(73)},34:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},37:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getMoviesList",function(){return k}),a.d(n,"api",function(){return N}),a.d(n,"setOpenModalKey",function(){return _}),a.d(n,"update",function(){return w}),a.d(n,"deleteMovie",function(){return T}),a.d(n,"addMovie",function(){return S}),a.d(n,"isMovieExist",function(){return A}),a.d(n,"setCurrentMovie",function(){return C}),a.d(n,"isCorrectMovieTitle",function(){return j});var i=a(0),r=a.n(i),s=a(15),o=a.n(s),l=(a(34),a(8)),c=a(1),u=a(2),d=a(4),m=a(3),h=a(5),p=(a(36),a(37),a(12),function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_onMouseEvent",value:function(e){this.props.movieDisplayUpdateCallback(e)}},{key:"_renderMovieImg",value:function(){var e=this;try{var t={backgroundImage:"url("+this.props.item.Poster+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return r.a.createElement("div",{className:"movieImg",onMouseLeave:function(){return e._onMouseEvent("poster")},style:t,onMouseEnter:function(){e.props.setCurrentMovie(e.props.item),e._onMouseEvent("movieDetails")}})}catch(a){}}},{key:"render",value:function(){return this._renderMovieImg()}}]),t}(i.Component)),v=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_renderMovieTitle",value:function(){try{return r.a.createElement("div",{className:"movieTitle"},this.props.item.Title)}catch(e){}}},{key:"render",value:function(){return this._renderMovieTitle()}}]),t}(i.Component),y=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_renderMovieTitle",value:function(){try{return r.a.createElement("div",{className:"detiails"},r.a.createElement("div",{className:"year"},r.a.createElement("span",null,"Year: "," "),this.props.item.Year),r.a.createElement("div",{className:"runtime"},r.a.createElement("span",null,"Runtime: "),this.props.item.Runtime," "),r.a.createElement("div",{className:"genre"},r.a.createElement("span",null,"Genre: ")," ",this.props.item.Genre),r.a.createElement("div",{className:"director"}," ",r.a.createElement("span",null,"Director: "),this.props.item.Director))}catch(e){}}},{key:"render",value:function(){return this._renderMovieTitle()}}]),t}(i.Component),g=function(e){return isNaN(e)||4!=e.length||e<0?{status:"error",msg:"year is not valid"}:{status:"ok"}},f=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_setOpenModalKey",value:function(e){this.props.setOpenModalKey(e)}},{key:"_renderButtons",value:function(){var e=this;try{return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#update",onClick:function(){return e.props.setCurrentMovie(e.props.item)}},r.a.createElement("span",null,"Update")),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#delete",onClick:function(){return e.props.setCurrentMovie(e.props.item)}},r.a.createElement("span",null,"Delete"))))}catch(t){}}},{key:"render",value:function(){return this._renderButtons()}}]),t}(i.Component),b=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_onMouseOut",value:function(){this.props.movieDisplayUpdateCallback("poster")}},{key:"_renderMovieDetails",value:function(){try{return r.a.createElement("div",{className:"movieDetails",onMouseLeave:this._onMouseOut.bind(this)},r.a.createElement(v,this.props),r.a.createElement(y,this.props),r.a.createElement(f,this.props))}catch(e){}}},{key:"render",value:function(){return this._renderMovieDetails()}}]),t}(i.Component),M=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={movieDisplay:"poster"},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_movieDisplayUpdateCallback",value:function(e){this.setState({movieDisplay:e})}},{key:"_renderMovieDetails",value:function(){var e=this,t={poster:function(){return r.a.createElement(p,Object.assign({},e.props,{movieDisplayUpdateCallback:e._movieDisplayUpdateCallback.bind(e)}))},movieDetails:function(){return r.a.createElement(b,Object.assign({},e.props,{movieDisplayUpdateCallback:e._movieDisplayUpdateCallback.bind(e)}))}};return r.a.createElement("div",{className:"movie"},t[this.state.movieDisplay]())}},{key:"render",value:function(){return this._renderMovieDetails()}}]),t}(i.Component),E=function(e){function t(e){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_renderMoviesList",value:function(){var e=this;return r.a.createElement("div",{className:"moviesList"},this.props.general.moviesList.map(function(t,a){return r.a.createElement(M,Object.assign({},e.props,{item:t,key:a,index:a}))}))}},{key:"render",value:function(){return this._renderMoviesList()}}]),t}(i.Component),D=a(10),O=[{Title:"Guardians of the Galaxy Vol. 2",Year:"2017",Rated:"PG-13",Released:"05 May 2017",Runtime:"136 min",Genre:"Action, Adventure, Comedy, Sci-Fi",Director:"James Gunn",Writer:"James Gunn, Dan Abnett (based on the Marvel comics by), Andy Lanning (based on the Marvel comics by), Steve Englehart (Star-Lord created by), Steve Gan (Star-Lord created by), Jim Starlin (Gamora and Drax created by), Stan Lee (Groot created by), Larry Lieber (Groot created by), Jack Kirby (Groot created by), Bill Mantlo (Rocket Raccoon created by), Keith Giffen (Rocket Raccoon created by), Steve Gerber (Howard the Duck created by), Val Mayerik (Howard the Duck created by)",Actors:"Chris Pratt, Zoe Saldana, Dave Bautista, Vin Diesel",Plot:"The Guardians must fight to keep their newfound family together as they unravel the mystery of Peter Quill's true parentage.",Language:"English",Country:"USA",Awards:"Nominated for 1 Oscar. Another 12 wins & 42 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMTg2MzI1MTg3OF5BMl5BanBnXkFtZTgwNTU3NDA2MTI@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"7.7/10"},{Source:"Rotten Tomatoes",Value:"83%"},{Source:"Metacritic",Value:"67/100"}],Metascore:"67",imdbRating:"7.7",imdbVotes:"416,247",imdbID:"tt3896198",Type:"movie",DVD:"22 Aug 2017",BoxOffice:"$389,804,217",Production:"Walt Disney Pictures",Website:"https://marvel.com/guardians",Response:"True"},{Title:"Titanic",Year:"1997",Rated:"PG-13",Released:"19 Dec 1997",Runtime:"194 min",Genre:"Drama, Romance",Director:"James Cameron",Writer:"James Cameron",Actors:"Leonardo DiCaprio, Kate Winslet, Billy Zane, Kathy Bates",Plot:"84 years later, a 100 year-old woman named Rose DeWitt Bukater tells the story to her granddaughter Lizzy Calvert, Brock Lovett, Lewis Bodine, Bobby Buell and Anatoly Mikailavich on the Keldysh about her life set in April 10th 1912, on a ship called Titanic when young Rose boards the departing ship with the upper-class passengers and her mother, Ruth DeWitt Bukater, and her fianc\xe9, Caledon Hockley. Meanwhile, a drifter and artist named Jack Dawson and his best friend Fabrizio De Rossi win third-class tickets to the ship in a game. And she explains the whole story from departure until the death of Titanic on its first and last voyage April 15th, 1912 at 2:20 in the morning.",Language:"English, Swedish",Country:"USA",Awards:"Won 11 Oscars. Another 111 wins & 77 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMDdmZGU3NDQtY2E5My00ZTliLWIzOTUtMTY4ZGI1YjdiNjk3XkEyXkFqcGdeQXVyNTA4NzY1MzY@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"7.8/10"},{Source:"Rotten Tomatoes",Value:"89%"},{Source:"Metacritic",Value:"75/100"}],Metascore:"75",imdbRating:"7.8",imdbVotes:"913,780",imdbID:"tt0120338",Type:"movie",DVD:"10 Sep 2012",BoxOffice:"N/A",Production:"Paramount Pictures",Website:"http://www.titanicmovie.com/",Response:"True"},{Title:"American Pie",Year:"1999",Rated:"R",Released:"09 Jul 1999",Runtime:"95 min",Genre:"Comedy",Director:"Paul Weitz, Chris Weitz",Writer:"Adam Herz",Actors:"Jason Biggs, Jennifer Coolidge, Shannon Elizabeth, Alyson Hannigan",Plot:"Jim, Oz, Finch and Kevin are four friends who make a pact that before they graduate they will all lose their virginity. The hard job now is how to reach that goal by prom night. Whilst Oz begins singing to grab attention and Kevin tries to persuade his girlfriend, Finch tries any easy route of spreading rumors and Jim fails miserably. Whether it is being caught on top of a pie or on the Internet, Jim always ends up with his trusty sex advice from his father. Will they achieve their goal of getting laid by prom night? Or will they learn something much different?",Language:"English",Country:"USA",Awards:"9 wins & 14 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMTg3ODY5ODI1NF5BMl5BanBnXkFtZTgwMTkxNTYxMTE@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"7.0/10"},{Source:"Rotten Tomatoes",Value:"61%"},{Source:"Metacritic",Value:"58/100"}],Metascore:"58",imdbRating:"7.0",imdbVotes:"344,807",imdbID:"tt0163651",Type:"movie",DVD:"21 Dec 1999",BoxOffice:"N/A",Production:"Universal Pictures",Website:"http://www.universalpictures.com/americanpie",Response:"True"},{Title:"Fast and Furious",Year:"1939",Rated:"PASSED",Released:"06 Oct 1939",Runtime:"73 min",Genre:"Comedy, Crime, Musical, Mystery",Director:"Busby Berkeley",Writer:"Harry Kurnitz (original screen play)",Actors:"Franchot Tone, Ann Sothern, Ruth Hussey, Lee Bowman",Plot:"Joel and Garda Sloan, a husband and wife detective team, who also sell rare books in New York, take a vacation to Seaside City. At Seaside, Joel's pal, Mike Stevens is managing and preparing for their beauty pageant. Joel is made one of the judges plus he has invested $5,000 in it, to Garda's dismay. Eric Bartell, promoter, arrives to dupe Stevens. When Ed Connors, New York racketeer arrives, Bartell is mysteriously murdered. Joel and Garda set out to investigate the murder.",Language:"English",Country:"USA",Awards:"N/A",Poster:"https://m.media-amazon.com/images/M/MV5BMjAyNTQ1NjA3Ml5BMl5BanBnXkFtZTgwOTIyNjIxMzE@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"6.2/10"}],Metascore:"N/A",imdbRating:"6.2",imdbVotes:"565",imdbID:"tt0031298",Type:"movie",DVD:"N/A",BoxOffice:"N/A",Production:"N/A",Website:"N/A",Response:"True"},{Title:"Gray",Year:"2015",Rated:"N/A",Released:"10 Oct 2015",Runtime:"72 min",Genre:"Horror",Director:"Michael R. Santana",Writer:"Phil Hwang",Actors:"Kennieth Barnes, Shaun Battle, Jillian Burgos, Jose Luis Casillas",Plot:"A group of strangers embark upon a tour of the macabre, and visit vital locations of an infamous murdering spree. Once the tour progresses, history begins to repeat itself.",Language:"English",Country:"USA",Awards:"N/A",Poster:"https://images-na.ssl-images-amazon.com/images/M/MV5BM2JiNDkxY2UtYzFhMS00NTg2LWI0OWItODBhMjg3MjA3ZjVjL2ltYWdlXkEyXkFqcGdeQXVyNTM3MDMyMDQ@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"2.5/10"}],Metascore:"N/A",imdbRating:"2.5",imdbVotes:"36",imdbID:"tt4998746",Type:"movie",DVD:"N/A",BoxOffice:"N/A",Production:"N/A",Website:"N/A",Response:"True"},{Title:"Scary Movie",Year:"2000",Rated:"R",Released:"07 Jul 2000",Runtime:"88 min",Genre:"Comedy",Director:"Keenen Ivory Wayans",Writer:"Shawn Wayans, Marlon Wayans, Buddy Johnson, Phil Beauman, Jason Friedberg, Aaron Seltzer",Actors:"Carmen Electra, Dave Sheridan, Frank B. Moore, Giacomo Baessato",Plot:"A group of teenagers including Cindy Campbell and Bobby Prinze, accidentally hit a man when driving, and dispose of the body, but now they are being stalked by a very recognisable masked killer. The victim count increases, whilst Cindy must survive the carnage that has she has seen in so many films before.",Language:"English",Country:"USA",Awards:"7 wins & 5 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMGEzZjdjMGQtZmYzZC00N2I4LThiY2QtNWY5ZmQ3M2ExZmM4XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"6.2/10"},{Source:"Rotten Tomatoes",Value:"53%"},{Source:"Metacritic",Value:"48/100"}],Metascore:"48",imdbRating:"6.2",imdbVotes:"208,507",imdbID:"tt0175142",Type:"movie",DVD:"12 Dec 2000",BoxOffice:"N/A",Production:"Dimension Films",Website:"http://www.scarymovie.com",Response:"True"},{Title:"Fifty Shades of Grey",Year:"2015",Rated:"R",Released:"13 Feb 2015",Runtime:"125 min",Genre:"Drama, Romance, Thriller",Director:"Sam Taylor-Johnson",Writer:"Kelly Marcel (screenplay by), E.L. James (based on the novel by)",Actors:"Dakota Johnson, Jamie Dornan, Jennifer Ehle, Eloise Mumford",Plot:"When Anastasia Steele, a literature student, goes to interview the wealthy Christian Grey as a favor to her roommate Kate Kavanagh, she encounters a beautiful, brilliant and intimidating man. The innocent and naive Ana starts to realize she wants him. Despite his enigmatic reserve and advice, she finds herself desperate to get close to him. Not able to resist Ana's beauty and independent spirit, Christian Grey admits he wants her too, but on his own terms. Ana hesitates as she discovers the singular tastes of Christian Grey - despite the embellishments of success, his multinational businesses, his vast wealth, and his loving family, Grey is consumed by the need to control everything.",Language:"English",Country:"USA",Awards:"Nominated for 1 Oscar. Another 9 wins & 26 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMjE1MTM4NDAzOF5BMl5BanBnXkFtZTgwNTMwNjI0MzE@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"4.1/10"},{Source:"Rotten Tomatoes",Value:"25%"},{Source:"Metacritic",Value:"46/100"}],Metascore:"46",imdbRating:"4.1",imdbVotes:"268,495",imdbID:"tt2322441",Type:"movie",DVD:"08 May 2015",BoxOffice:"$189,859,585",Production:"Focus Features",Website:"http://www.fiftyshadesmovie.com/",Response:"True"},{Title:"Saw",Year:"2004",Rated:"R",Released:"29 Oct 2004",Runtime:"103 min",Genre:"Horror, Mystery, Thriller",Director:"James Wan",Writer:"Leigh Whannell, James Wan (story), Leigh Whannell (story)",Actors:"Leigh Whannell, Cary Elwes, Danny Glover, Ken Leung",Plot:"Waking up in a undisclosed location in a unknown room two men, adam and gordon are trapped into a single room with a dead body. Given random tools with riddles hidnen around the room. Wondering who could have done this there are clues to who might of done it; the jigsaw killer. The question is not just who but why would a serial killer leave two men in a room. Both adam and gordon hiding secrets they must trust and work together to get out or die...can they survive jigsaws game or die trying?",Language:"English",Country:"USA",Awards:"8 wins & 10 nominations.",Poster:"https://m.media-amazon.com/images/M/MV5BMjE4MDYzNDE1OV5BMl5BanBnXkFtZTcwNDY2OTYwNA@@._V1_SX300.jpg",Ratings:[{Source:"Internet Movie Database",Value:"7.6/10"},{Source:"Rotten Tomatoes",Value:"49%"},{Source:"Metacritic",Value:"46/100"}],Metascore:"46",imdbRating:"7.6",imdbVotes:"343,090",imdbID:"tt0387564",Type:"movie",DVD:"15 Feb 2005",BoxOffice:"$55,100,000",Production:"Lions Gate Films",Website:"http://www.sawmovie.com/",Response:"True"}],k=function(){return{type:"GET_MOVIES_LIST",payload:O}},N=function(e,t){return{type:e,payload:t}},_=function(e){return{type:"SET_OPEN_MODAL_KEY",payload:e}},w=function(e,t,a){return{type:"API",payload:{type:"UPDATE",newDatas:e,newData:t,index:a,method:"put"}}},T=function(e,t){return{type:"API",payload:{type:"DELETE",newDatas:e,index:t,method:"delete"}}},S=function(e,t,a){return{type:"API",payload:{type:"ADD",currentDb:e,newData:t,id:a,method:"post",callback:arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){}}}},A=function(e){return{type:"IS_MOVIE_EXIST",payload:e}},C=function(e){return{type:"SET_CURRENT_MOVIE",payload:e}},j=function(e){return{type:"IS_CORRECT_MOVIE_TITLE",payload:e}},V=a(28),I=a.n(V),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={imdbID:"",title:"",year:"",inputsValidation:{year:!0,title:!0},isValid:!0,isMovieExist:!1,correctTitleMovie:!1,ismodalOpen:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"_add",value:function(){var e=this,t={title:this.state.title,year:this.state.year},a=this._generateMovieId(),n=this._titleCorrectFormat(this.state.title);t.title=n,this.props.isMovieExist(!1),this.props.addMovie(this.props.general.moviesList,t,a,function(t){console.log("afasfas",t),e.state.isValid&&!e.state.isMovieExist&&e.props.general.isCorrectMovieTitle&&e.setState({ismodalOpen:!e.state.ismodalOpen})}),this.setState({title:"",year:""})}},{key:"_generateMovieId",value:function(){for(var e=Math.floor(1e3*Math.random()+1);this._isIdExist(e);)e=Math.floor(1e3*Math.random()+1);return e}},{key:"_isIdExist",value:function(e){for(var t=this.props.general.moviesList,a=0;a<t.length;++a){if(t[a].id==e)return!0}return!1}},{key:"_titleCorrectFormat",value:function(e){if(isNaN(e)){return function(e){var t=e.toString();return t=t.replace(/,/g,"")}(function(e){if(e.length>0){e[0]=e[0].toUpperCase();for(var t=1;t<e.length;++t)isNaN(e[t])||(e[t]=e[t].toLowerCase())," "==e[t]&&(e[++t]=e[t].toUpperCase())}return e}(function(e){for(var t=/^[A-Za-z']{1,}$/,a=0;a<e.length-1;++a)t.test(e[a])||" "==e[a]||(e.splice(a,1),--a);return e}(function(e){for(var t=/^[A-Za-z']{1,}$/,a=0;a<e.length;++a)!t.test(e[a])&&isNaN(e[a])&&" "!=e[a]&&(e.splice(a,1),--a);return e}(e.split("")))))}return e}},{key:"_validation",value:function(e){var t={year:function(e){return""!=e?g(e):{status:"ok"}},title:function(e){return{status:"ok"}}}[e](this.refs[e].value);"error"==t.status?this._addInputErrorMessage(e):"ok"==t.status&&this.refs[e].className.includes("invalid")&&this._removeInputErrorMesage(e)}},{key:"_removeInputErrorMesage",value:function(e){var t=this.state.inputsValidation;this.refs[e].classList.remove("invalid"),t[e]=!0,this.setState({isValid:!0,inputsValidation:t})}},{key:"_addInputErrorMessage",value:function(e){var t=this.state.inputsValidation;this.refs[e].classList.add("invalid"),t[e]=!1,this.setState({isValid:!1,inputsValidation:t})}},{key:"_ismovieExist",value:function(e){!function(e,t){for(var a in e)if(e[a].Title.toUpperCase()==t.toUpperCase())return!0;return!1}(this.props.general.moviesList,e)?this.state.isMovieExist&&(this.setState({isMovieExist:!1}),this.props.isMovieExist(!1)):this.setState({isMovieExist:!0})}},{key:"_toggleModal",value:function(){this.setState({ismodalOpen:!this.state.ismodalOpen})}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_clearForm",value:function(){this.setState({title:"",year:""})}},{key:"_renderAddForm",value:function(){var e=this;try{return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e._toggleModal()}},r.a.createElement("span",null,"Add New Movie"))),r.a.createElement(I.a,{isOpen:this.state.ismodalOpen,onRequestClose:this.closeModal.bind(this)},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Add New Movie "),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){e._toggleModal(),e.props.isMovieExist(!1),e.props.isCorrectMovieTitle(!0),e._clearForm(),e._removeInputErrorMesage("year")}},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",null,r.a.createElement("span",null,"Title: "," "),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,ref:"title",onChange:function(t){e.setState({title:e.refs.title.value}),e._ismovieExist(e.refs.title.value)}}),!this.state.inputsValidation.title&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!")),r.a.createElement("div",null,r.a.createElement("span",null,"Year: "," "),r.a.createElement("input",{type:"text",name:"year",value:this.state.year,ref:"year",onChange:function(t){e._validation("year"),e.setState({year:e.refs.year.value})}}),!this.state.inputsValidation.year&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!"))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.state.isValid&&e._add(),e._clearForm()}},"Add"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e._toggleModal(),e.props.isMovieExist(!1),e.props.isCorrectMovieTitle(!0),e._clearForm(),e._removeInputErrorMesage("year")}},"Close")),this.props.general.isMovieExist&&r.a.createElement("span",{className:"error-message"},"Oops! This Movie Is Exist!"),!this.props.general.isCorrectMovieTitle&&r.a.createElement("span",{className:"error-message"},"Oops! The Title Of The Movie Is Not Correct!")))}catch(t){}}},{key:"render",value:function(){return this._renderAddForm()}}]),t}(i.Component),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={imdbID:"",year:"",runtime:"",genre:"",director:"",inputsValidation:{year:!0,runtime:!0,genre:!0,director:!0},isValid:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({imdbID:e.general.currentMovie.imdbID,year:e.general.currentMovie.Year,runtime:e.general.currentMovie.Runtime,genre:e.general.currentMovie.Genre,director:e.general.currentMovie.Director})}},{key:"componentDidUpdate",value:function(){var e=["year","runtime","genre","director"];if(""==this.state.year&&""==this.state.runtime&&""==this.state.genre&&""==this.state.director){for(var t=0;t<e.length;++t)this._removeInputErrorMesage(e[t]);this._removeInputErrorMesage()}}},{key:"_setOpenModalKey",value:function(e){this.props.setOpenModalKey(e)}},{key:"_update",value:function(e){var t=this._setDataToUpdate(),a={id:e,year:this.state.year,runtime:this.state.runtime,genre:this.state.genre,director:this.state.director},n=Object.assign(this.props.general.currentMovie,a);this.props.update(t,n,e)}},{key:"_delete",value:function(e){var t=this._setDataAfterDelete();this.props.deleteMovie(t,e)}},{key:"_setDataToUpdate",value:function(){for(var e=this.props.general.moviesList,t=0;t<e.length;++t){var a=e[t];a.imdbID===this.state.imdbID&&(a.Year=this.state.year,a.Runtime=this.state.runtime,a.Genre=this.state.genre,a.Director=this.state.director)}return e}},{key:"_setDataAfterDelete",value:function(){var e=this;return this.props.general.moviesList.filter(function(t,a){return t.imdbID!=e.state.imdbID})}},{key:"_validation",value:function(e){var t={year:function(e){return g(e)},runtime:function(e){return function(e){return isNaN(e)||e<0?{status:"error",msg:"year is not valid"}:{status:"ok"}}(e)},genre:function(e){return function(e){var t=e.split(","),a=["romance","action","adventure","honor","western","documentary","crime","science fiction","war","mystery","comedy","biographical","parody","melodrama","family","drama"],n=!1;t.forEach(function(e,a){" "==e.charAt(0)&&(t[a]=e.substr(1))});for(var i=0;i<t.length;++i){n=!1;for(var r=0;r<a.length;++r)t[i].toUpperCase()===a[r].toUpperCase()&&(n=!0,r=a.length);if(!n)return{status:"error",msg:"input is not valid"}}return{status:"ok"}}(e)},director:function(e){return function(e){var t=/^[A-Za-z]{2,}\s[A-Za-z-']{2,}$/,a=e.split(",");return a.forEach(function(e,t){" "==e.charAt(0)&&(a[t]=e.substr(1))}),a.filter(function(e,a){return!t.test(e)}).length>0?{status:"error",msg:"input is not valid"}:{status:"ok"}}(e)}}[e](this.refs[e].value);"error"==t.status?this._addInputErrorMessage(e):"ok"==t.status&&this.refs[e].className.includes("invalid")&&this._removeInputErrorMesage(e)}},{key:"_removeInputErrorMesage",value:function(e){var t=this.state.inputsValidation;try{this.refs[e].className.includes("invalid")&&(this.refs[e].classList.remove("invalid"),t[e]=!0,this.setState({isValid:!0,inputsValidation:t}))}catch(a){}}},{key:"_addInputErrorMessage",value:function(e){var t=this.state.inputsValidation;this.refs[e].classList.add("invalid"),t[e]=!1,this.setState({isValid:!1,inputsValidation:t})}},{key:"_getRuntime",value:function(){try{return this.state.runtime.split(" ")[0]}catch(e){}}},{key:"_getGenreOrDirector",value:function(e){try{var t=this.state[e].split(",");return t.forEach(function(e,a){var n;" "==e.charAt(0)&&(t[a]=e.substr(1)),t[a]=(n=t[a]).charAt(0).toUpperCase()+n.slice(1)}),t.toString()}catch(a){}}},{key:"_clearForm",value:function(){this.setState({imdbID:"",year:"",runtime:"",genre:"",director:""})}},{key:"_renderModal",value:function(){var e=this;return r.a.createElement("div",{className:"modalContainer"},r.a.createElement("div",{className:"modal",id:"update"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Update Movie Details"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){return e._clearForm()}},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",null,r.a.createElement("span",null,"Year: "," "),r.a.createElement("input",{type:"text",name:"year",value:this.state.year,ref:"year",onChange:function(t){e._validation("year"),e.setState({year:e.refs.year.value})}}),!this.state.inputsValidation.year&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!")),r.a.createElement("div",null,r.a.createElement("span",null,"Runtime (Minutes): "),r.a.createElement("input",{type:"text",name:"runtime",value:this._getRuntime(),ref:"runtime",onChange:function(t){e._validation("runtime"),e.setState({runtime:t.target.value})}}),!this.state.inputsValidation.runtime&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!")),r.a.createElement("div",null,r.a.createElement("span",null,"Genre: "),r.a.createElement("input",{type:"text",name:"genre",value:this._getGenreOrDirector("genre"),ref:"genre",onChange:function(t){e._validation("genre"),e.setState({genre:t.target.value})}}),!this.state.inputsValidation.genre&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!")),r.a.createElement("div",null,r.a.createElement("span",null,"Director: "),r.a.createElement("input",{type:"text",name:"director",value:this._getGenreOrDirector("director"),ref:"director",onChange:function(t){e._validation("director"),e.setState({director:t.target.value})}}),!this.state.inputsValidation.director&&r.a.createElement("span",{className:"error-message"},"Oops! Input invalid!"))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":this.state.isValid?"modal":"",onClick:function(){e.state.isValid&&e._update(e.props.general.currentMovie.id)}},"Update"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){return e._clearForm()}},"Close"))))),r.a.createElement("div",{className:"modal",id:"delete"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Are you sure you want delete this movie?"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":this.state.isValid?"modal":"",onClick:function(){e._delete(e.props.general.currentMovie.id)}},"Yes"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"No"))))))}},{key:"render",value:function(){return this._renderModal()}}]),t}(i.Component),B=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getMoviesList()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(R,this.props),r.a.createElement(E,this.props),r.a.createElement(L,this.props))}}]),t}(i.Component),G=Object(D.b)(function(e){return Object(l.a)({},e)},n)(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(9),P=a(53),W=function(e){return function(t){return function(a){if("API"==a.type){var n=a.payload,i=n.type,r=n.method,s=(n.index,n.newData),o=n.newDatas,l=n.id,c=n.currentDb,u=n.callback,d={get:function(t){e.dispatch(N(i,t))},post:function(t){e.dispatch(N(i,t))},put:function(){e.dispatch(N(i,o))},delete:function(){e.dispatch(N(i,o))}};if("ADD"==i){var m=s.title.replace(" ","+");P.get("https://www.omdbapi.com/?apikey=81d51a00&t="+m+"&y="+s.year).then(function(t){if("False"==t.data.Response||!isNaN(t.data.Title)&&t.data.Title!=s.title)e.dispatch(j(!1));else{var a=t.data;a.id=l,!function(e,t){for(var a in e)if(e[a].imdbID==t)return!0;return!1}(c,a.imdbID)?(d[r](a),e.dispatch(A(!1)),e.dispatch(j(!0))):e.dispatch(A(!0)),u&&u(t)}}).catch(function(e){return console.log(e)})}else d[r]()}return t(a)}}},F=Object(x.c)({general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(e=Object(l.a)({moviesList:[],openModalKey:-99,isMovieExist:!1,currentMovie:{},isCorrectMovieTitle:!0},e),t.type){case"GET_MOVIES_LIST":var a=t.payload;return Object(l.a)({},e,{moviesList:a});case"SET_OPEN_MODAL_KEY":var n=t.payload;return Object(l.a)({},e,{openModalKey:n});case"UPDATE":var i=t.payload;return Object(l.a)({},e,{moviesList:i});case"DELETE":return i=t.payload,Object(l.a)({},e,{moviesList:i});case"ADD":var r=e.moviesList,s=t.payload;return r.push(s),Object(l.a)({},e,{moviesList:r});case"IS_MOVIE_EXIST":var o=t.payload;return Object(l.a)({},e,{isMovieExist:o});case"SET_CURRENT_MOVIE":var c=t.payload;return Object(l.a)({},e,{currentMovie:c});case"IS_CORRECT_MOVIE_TITLE":var u=t.payload;return Object(l.a)({},e,{isCorrectMovieTitle:u});default:return e}return e}});o.a.render(r.a.createElement(D.a,{store:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],Object(x.d)(F,Object(x.a)(W))}()},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.84998aec.chunk.js.map